<div class="container">
  <mat-card class="card-container">
    <mat-card-header>
      <mat-card-title>{{
        type == "edit" ? "Update" : "Register"
      }}</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <form [formGroup]="userForm" class="user-form">
        <mat-form-field class="form-container" appearance="outline">
          <input
            type="text"
            matInput
            placeholder="Enter Name"
            formControlName="name"
          />
        </mat-form-field>
        <div class="form-container" *ngIf="type == 'edit'">
          <mat-form-field class="form-container" appearance="outline">
            <input
              type="text"
              matInput
              placeholder="Enter ID"
              formControlName="id"
            />
          </mat-form-field>
        </div>

        <mat-form-field class="form-container" appearance="outline">
          <mat-select placeholder="Select Group" formControlName="group">
            <mat-option *ngFor="let group of groupList" [value]="group.name">
              {{ group.name }}
            </mat-option>
          </mat-select>
        </mat-form-field>

        <mat-form-field class="form-container" appearance="outline">
          <mat-select placeholder="Select Type" formControlName="type">
            <mat-option *ngFor="let list of typeList" [value]="list.value">
              {{ list.type }}
            </mat-option>
          </mat-select>
        </mat-form-field>

        <div class="register-btn">
          <mat-dialog-actions>
            <button
              (click)="type == 'edit' ? update() : register()"
              [disabled]="!userForm.valid"
              type="submit"
              mat-raised-button
            >
              {{ type == "edit" ? "Update" : "Register" }}
            </button>
          </mat-dialog-actions>
        </div>
      </form>
    </mat-card-content>
  </mat-card>
</div>
<ngx-loading
  [show]="loading"
  [config]="{ backdropBorderRadius: '0px', fullScreenBackdrop: true }"
></ngx-loading>
